.PHONY:all
-include ../../../../petscdir.mk
-include ${PETSC_DIR}/lib/petsc/conf/variables

all: petsc
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C binary-io
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C kspsolve
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C bratu2d
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C bratu3d
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C poisson2d
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C poisson3d
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C perftest
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C wrap-swig
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C wrap-f2py

.PHONY:petsc
petsc:
	-@PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}${PETSC_MPI4PY_PYTHONPATH} ${MAKE} -C petsc-examples
